# Java8-Resources
一、Java线程池实现原理及应用（ThreadPoolExecutor）
1.使用线程池的好处
    1.1. 降低资源消耗 通过池化技术重复利用已经创建的线程，降低线程创建和销毁造成的耗损
    1.2.提高响应速度，任务到达时，无需等待线程创建可立即执行
    1.3.提高线程的可管理性：线程是稀缺资源，如果无限制创建，不仅会消耗系统资
    源，还会因为线程的不合理分布导致资源调度失衡，降低系统的稳定性。使用
    线程池可以进行统一的分配、调优和监控。
    1.4.提供更多更强大的功能：线程池具备可拓展性，允许开发人员向其中增加更多
    的功能。比如延时定时线程池 ScheduledThreadPoolExecutor，就允许任
    务延期执行或定期执行。
2.线程池解决的核心问题就是资源管理问题。在并发环境下，系统不能够确定在任意
 时刻中，有多少任务需要执行，有多少资源需要投入。这种不确定性将带来以下若干
 问题：
     2.1.	频繁申请 / 销毁资源和调度资源，将带来额外的消耗，可能会非常巨大。
     2.2.	对资源无限申请缺少抑制手段，易引发系统资源耗尽的风险。
     2.3.	系统无法合理管理内部的资源分布，会降低系统的稳定性。
     为解决资源分配这个问题，线程池采用了“池化”（Pooling）思想。池化，顾名思义，
     是为了最大化收益并最小化风险，而将资源统一在一起管理的一种思想。



二、常用的JVM
HotSpot VM：它最开始是一家小公司的产品，后来这家小公司被Sun公司收购了，经过Sun公司自己的Exact VM的竞争之后取得了胜利，
所以变成了Sun JDK自带的虚拟机，当Sun JDK的源代码公开之后，Sun公司又在Sun JDK的基础上开发出了Open JDK，
所以HotSpot VM是Sun JDK和OpenJDK中自带的虚拟机，也是目前使用范围最广的Java虚拟机

JRockit VM：它原来属于BEA公司，后来被Oracle公司收购了，由于Sun公司也被Oracle公司收购了，
所以Sun公司准备进行两者的优势互补

IBM J9：IBM公司的



三、MyBatis 版本升级引发的线上告警回顾及原理分析
MyBatis在3.2.4以前的版本，会忽略XML中的parameterType这个属性，并且使用真实的变量类型进行值的处理。
但在3.2.4及以后的版本中，这个属性就被启用了，如果出现类型不匹配的话，就会出现转型失败的报错。这也提示我们开发者，
在升级版本时，需要检查系统内的XML配置，使类型进行匹配，或者不设置该属性，让MyBatis自行进行计算。
MyBatis 3.2.3版本支持parameterType和实际参数类型不匹配，在执行SQL阶段，动态计算值处理器类型。在大版本升级2个版本号后，parameterType实际的类型开始生效，使用对应这个类型的TypeHandler对SQL进行参数替换，会导致Mapper方法中的参数和XML中的parameterType不匹配时，进而会出现类型转换报错。

这一段排查的经历，对自己后续编写代码及在系统上线时也有一些启发，主要包括以下几个方面：

在inf-bom升级时，需要线下进行全面回归，要避免框架存在不兼容的用法，不然的话，就容易导致线上错误。
开发同学可以检查自己系统内的MyBatis版本，如果是3.2.4以下，需要全面检查下现在的Mapper文件里对于parameterType的使用和Mapper方法中实际的参数类型是否一致，避免升级到3.2.4及以上版本时发生转型报错。如果有不匹配的情况存在，需要进行修正或者不使用parameterType，让MyBatis在运行SQL时自动计算对应的类型。
可以考虑使用MyBatis-Generator来自动生成XML和Mapper文件，毕竟是专业团队在维护，稳定性相对来说会更好一些，同时能够避免手动修改XML文件带来的误操作。
可以主动关注强依赖的一些开源框架的Release Log，不要错过了重要的信息。

四、Java即时编译器原理解析与实践

JAVA代码被执行过程
    (JAVA)
      |                     |-------------------IR
      |                     |                 .class
    javac                   |                   |
   语法分析                  |                    |
      |                     |          |------------------------------------|
      |                     |          |JVM           方法调用               |
      |----------------------          |                 |                  |
                                       |      --否-----是否编译---是----      |
                                       |      |                      |      |
                                       |    解释执行                编译执行   |
                                       | -调用统计次数                 |      |
                                       | |否  |                     读取     |
                                       | -是否达到峰值                 |      |
                                       |      |是                  CodeCache |
                                       |      触发编译-------写入------|       |
                                       |-------------------------------------|





五、垃圾回收器ZGC的探索和实践
ZGC（The Z Garbage Collector）是 JDK 11 中推出的一款低延迟垃圾回收器，它的设计目标包括：
● 停顿时间不超过 10ms；
● 停顿时间不会随着堆的大小，或者活跃对象的大小而增加；
● 支持 8MB~4TB 级别的堆（未来支持 16TB）。
从设计目标来看，我们知道 ZGC 适用于大内存低延迟服务的内存管理和回收。